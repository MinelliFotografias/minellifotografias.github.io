'use strict';var _get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if('value'in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';function a(a,b){var c=document.createElement(a);if(b){(function extend(a,b){for(name in b){var c=b[name];a[name]=c}})(c,b)}return c}function b(b,c){var d=a('button',b);return'function'==typeof c&&d.addEventListener('click',function(){c(this)}),d}var c=function(){function a(b){if(_classCallCheck(this,a),this.config=b,!(this instanceof a))return new a(this.config);this.parent=this.config.parent;var c=this.config.parentSelector||'.slider';if(!this.parent)try{this.parent=document.querySelector(c)}catch(a){throw'[SLIDER]: Container n\xE3o encontrado.'}var d=this.config.childSelector||'.slide';if(!(this.children=this.parent.querySelectorAll(d)))throw'[SLIDER]: Slides n\xE3o encontrados.';this.index=0,this.duration=this.config.duration||3e3,this.compose()}return _createClass(a,[{key:'compose',value:function compose(){var a,b;return b=0<this.index?this.index-1:this.children.length-1,a=this.index<this.children.length-1?this.index+1:0,Array.prototype.forEach.call(this.children,function(a){return a.classList.remove('prev'),a.classList.remove('current'),a.classList.remove('next'),!0}),this.children[b].classList.add('prev'),this.children[this.index].classList.add('current'),this.children[a].classList.add('next'),this}},{key:'play',value:function play(){var a;return a=this,this.playingStateID=setInterval(function(){return a.next()},this.duration),this.isPlaying=!0,this}},{key:'pause',value:function pause(){return clearInterval(this.playingStateID),this.isPlaying=!1,this}},{key:'playpause',value:function playpause(){return this.isPlaying?this.pause():this.play()}},{key:'prev',value:function prev(){var a;if(0<this.index?this.index--:this.index=this.children.length-1,a=this.isPlaying,a&&this.pause(),this.compose(),a)return this.play()}},{key:'next',value:function next(){var a;if(this.index<this.children.length-1?this.index++:this.index=0,a=this.isPlaying,a&&this.pause(),this.compose(),a)return this.play()}},{key:'on',value:function on(a,b){return this.parent.addEventListener(a,b),this}},{key:'off',value:function off(a,b){return this.parent.removeEventListener(a,b),this}},{key:'inspect',value:function inspect(){var a;console.group(this.parentSelector);try{console.info(this.children.length+' slides')}catch(b){a=b,console.error(a)}return console.groupEnd(this.parentSelector),this}}]),a}(),d=function(a){function b(a){return _classCallCheck(this,b),a.parentSelector='.carousel',_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return _inherits(b,a),_createClass(b,[{key:'compose',value:function compose(){var a=_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'compose',this).call(this),c=Array.prototype.slice.call(this.children),d=this.index+1,e=c.length;return c.forEach(function(a,b){var c=b-d+1;0>c&&(c=e-d+b+1),a.setAttribute('data-order',c),c==e-1&&a.setAttribute('data-order','last')}),a}}]),b}(c);document.body.addEventListener('touchstart',function(){return!1});var e={prevIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M145.188 238.575l215.5-215.5c5.3-5.3 5.3-13.8 0-19.1s-13.8-5.3-19.1 0l-225.1 225.1c-5.3 5.3-5.3 13.8 0 19.1l225.1 225c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.3-5.3 5.3-13.8 0-19.1l-215.4-215.5z"/></svg>',nextIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.731 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg>'},f=document.querySelectorAll('.carousel');Array.prototype.forEach.call(f,function(c){var f=new d({parent:c,duration:5e3});if(f.parent.hasAttribute('data-autoplay')&&f.on('mouseover',function(){f.pause()}).on('mouseout',function(){f.play()}).play(),f.parent.hasAttribute('data-controls')){var g=a('div',{className:'slider-controls'});g.setAttribute('data-grid','justify row'),g.appendChild(b({className:'slider-control prev icon',title:'VOLTAR',innerHTML:e.prevIcon},function(){f.prev()})),g.appendChild(b({className:'slider-control next icon',title:'AVAN\xC7AR',innerHTML:e.nextIcon},function(){f.next()})),f.parent.appendChild(g)}})})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZXh0ZW5kIiwibmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25maWciLCJwYXJlbnQiLCJwYXJlbnRTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZFNlbGVjdG9yIiwiY2hpbGRyZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5kZXgiLCJkdXJhdGlvbiIsImNvbXBvc2UiLCJsZW5ndGgiLCJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giLCJjYWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicGxheWluZ1N0YXRlSUQiLCJzZXRJbnRlcnZhbCIsIm5leHQiLCJpc1BsYXlpbmciLCJjbGVhckludGVydmFsIiwicGF1c2UiLCJwbGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJncm91cCIsImluZm8iLCJlcnJvciIsImdyb3VwRW5kIiwic2xpY2UiLCJzZXRBdHRyaWJ1dGUiLCJib2R5IiwicHJldkljb24iLCJuZXh0SWNvbiIsImhhc0F0dHJpYnV0ZSIsIm9uIiwiYXBwZW5kQ2hpbGQiLCJjbGFzc05hbWUiLCJ0aXRsZSIsImlubmVySFRNTCIsInByZXYiXSwibWFwcGluZ3MiOiIybkNBQUMsV0FBWSxDQUNiLGFBRUEsZUFBbUMsQ0FDL0IsR0FBSSxHQUFVQSxTQUFTQyxhQUFULEdBQWQsQ0FDQSxLQUFXLENBT1AsQ0FOQSxRQUFTQyxPQUFULEtBQTJCLENBQ3ZCLElBQUtDLElBQUwsTUFBbUIsQ0FDZixHQUFNLEdBQU0sRUFBS0EsSUFBTCxDQUFaLENBQ0EsRUFBSUEsSUFBSixHQUNILENBQ0osQ0FDRCxNQUNILENBQ0QsUUFDSCxDQUVELGVBQXlDLENBQ3JDLEdBQUksR0FBWSxFQUFjLFFBQWQsR0FBaEIsQ0FNQSxNQUx5QixVQUFyQixVQUtKLEVBSkksRUFBVUMsZ0JBQVYsQ0FBMkIsT0FBM0IsQ0FBb0MsVUFBWSxDQUM1QyxF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RUFBYSxDQUM5QkMsVUFBVywwQkFEbUIsQ0FFOUJDLE1BQU8sWUFGdUIsQ0FHOUJDLFVBQVcsRUFBR04sUUFIZ0IsQ0FBYixDQUlsQixVQUFZLENBQ1gsRUFBTWYsSUFBTixFQUNILENBTm9CLENBQXJCLENBWjRDLENBbUI1QyxFQUFNbkIsTUFBTixDQUFhcUMsV0FBYixHQUNILENBQ0osQ0FuQ0QsQ0FxQ0MsQ0ExTkEsRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAoZWwsIGF0dHJzKSB7XHJcbiAgICB2YXIgbmV3RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwpO1xyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgZGF0YSkge1xyXG4gICAgICAgICAgICBmb3IgKG5hbWUgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZGF0YVtuYW1lXTtcclxuICAgICAgICAgICAgICAgIG9ialtuYW1lXSA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBleHRlbmQobmV3RWxlbSwgYXR0cnMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0VsZW07XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uIChhdHRycywgYnRuQWN0aW9uKSB7XHJcbiAgICB2YXIgbmV3QnV0dG9uID0gY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgYXR0cnMpO1xyXG4gICAgaWYgKHR5cGVvZiBidG5BY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ0bkFjdGlvbih0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdCdXR0b247XHJcbn1cblxuY2xhc3MgU2xpZGVyIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNsaWRlcikpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTbGlkZXIodGhpcy5jb25maWcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wYXJlbnQgPSB0aGlzLmNvbmZpZy5wYXJlbnQ7XHJcbiAgICBjb25zdCBwYXJlbnRTZWxlY3RvciA9IHRoaXMuY29uZmlnLnBhcmVudFNlbGVjdG9yIHx8ICcuc2xpZGVyJztcclxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50U2VsZWN0b3IpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhyb3cgJ1tTTElERVJdOiBDb250YWluZXIgbsOjbyBlbmNvbnRyYWRvLic7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGNoaWxkU2VsZWN0b3IgPSB0aGlzLmNvbmZpZy5jaGlsZFNlbGVjdG9yIHx8ICcuc2xpZGUnO1xyXG4gICAgaWYgKCEodGhpcy5jaGlsZHJlbiA9IHRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2hpbGRTZWxlY3RvcikpKSB7XHJcbiAgICAgIHRocm93ICdbU0xJREVSXTogU2xpZGVzIG7Do28gZW5jb250cmFkb3MuJztcclxuICAgIH1cclxuICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuY29uZmlnLmR1cmF0aW9uIHx8IDMwMDA7XHJcbiAgICB0aGlzLmNvbXBvc2UoKTtcclxuICB9XHJcblxyXG4gIGNvbXBvc2UoKSB7XHJcbiAgICB2YXIgbmV4dEluZGV4LCBwcmV2SW5kZXg7XHJcbiAgICBwcmV2SW5kZXggPSB0aGlzLmluZGV4ID4gMCA/IHRoaXMuaW5kZXggLSAxIDogdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxO1xyXG4gICAgbmV4dEluZGV4ID0gdGhpcy5pbmRleCA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSA/IHRoaXMuaW5kZXggKyAxIDogMDtcclxuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodGhpcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXYnKTtcclxuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCduZXh0Jyk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmNoaWxkcmVuW3ByZXZJbmRleF0uY2xhc3NMaXN0LmFkZCgncHJldicpO1xyXG4gICAgdGhpcy5jaGlsZHJlblt0aGlzLmluZGV4XS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XHJcbiAgICB0aGlzLmNoaWxkcmVuW25leHRJbmRleF0uY2xhc3NMaXN0LmFkZCgnbmV4dCcpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwbGF5KCkge1xyXG4gICAgdmFyIHRoYXQ7XHJcbiAgICB0aGF0ID0gdGhpcztcclxuICAgIHRoaXMucGxheWluZ1N0YXRlSUQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGF0Lm5leHQoKTtcclxuICAgIH0sIHRoaXMuZHVyYXRpb24pO1xyXG4gICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwYXVzZSgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wbGF5aW5nU3RhdGVJRCk7XHJcbiAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwbGF5cGF1c2UoKSB7XHJcbiAgICBpZiAodGhpcy5pc1BsYXlpbmcpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGF1c2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByZXYoKSB7XHJcbiAgICB2YXIgcGxheWluZ1N0YXRlO1xyXG4gICAgaWYgKHRoaXMuaW5kZXggPiAwKSB7XHJcbiAgICAgIHRoaXMuaW5kZXgtLTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7XHJcbiAgICB9XHJcbiAgICBwbGF5aW5nU3RhdGUgPSB0aGlzLmlzUGxheWluZztcclxuICAgIGlmIChwbGF5aW5nU3RhdGUpIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb21wb3NlKCk7XHJcbiAgICBpZiAocGxheWluZ1N0YXRlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKSB7XHJcbiAgICB2YXIgcGxheWluZ1N0YXRlO1xyXG4gICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcclxuICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBwbGF5aW5nU3RhdGUgPSB0aGlzLmlzUGxheWluZztcclxuICAgIGlmIChwbGF5aW5nU3RhdGUpIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb21wb3NlKCk7XHJcbiAgICBpZiAocGxheWluZ1N0YXRlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuICB9XHJcbiAgb24oZXZlbnQsIGZuKSB7XHJcbiAgICB0aGlzLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbiAgb2ZmKGV2ZW50LCBmbikge1xyXG4gICAgdGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIGluc3BlY3QoKSB7XHJcbiAgICB2YXIgZXJyO1xyXG4gICAgY29uc29sZS5ncm91cCh0aGlzLnBhcmVudFNlbGVjdG9yKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLmNoaWxkcmVuLmxlbmd0aCArICcgc2xpZGVzJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBlcnIgPSBlcnJvcjtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5ncm91cEVuZCh0aGlzLnBhcmVudFNlbGVjdG9yKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxuXG5jbGFzcyBDYXJvdXNlbCBleHRlbmRzIFNsaWRlciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICBjb25maWcucGFyZW50U2VsZWN0b3IgPSAnLmNhcm91c2VsJztcclxuICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBjb21wb3NlKCkge1xyXG4gICAgY29uc3QgY29tcCA9IHN1cGVyLmNvbXBvc2UoKTtcclxuICAgIGNvbnN0IGtpZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmNoaWxkcmVuKTtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5pbmRleCArIDE7XHJcbiAgICBjb25zdCB0b3RhbCA9IGtpZHMubGVuZ3RoO1xyXG4gICAga2lkcy5mb3JFYWNoKChraWQsIGkpID0+IHtcclxuICAgICAgbGV0IGl0ZW1PcmRlciA9IGkgLSBwb3NpdGlvbiArIDE7XHJcbiAgICAgIGlmIChpdGVtT3JkZXIgPCAwKSBpdGVtT3JkZXIgPSB0b3RhbCAtIHBvc2l0aW9uICsgaSArIDE7XHJcbiAgICAgIGtpZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXInLCBpdGVtT3JkZXIpO1xyXG4gICAgICBpZiAoaXRlbU9yZGVyID09PSB0b3RhbCAtIDEpIGtpZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXInLCAnbGFzdCcpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY29tcDtcclxuICB9XHJcblxyXG59XG5cbi8vaW1wb3J0IENhcm91c2VsMiBmcm9tICcuL2xpYnMvQ2Fyb3VzZWwyJztcclxuXHJcbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbn0pO1xyXG5cclxuY29uc3QgdWkgPSB7XHJcbiAgICBwcmV2SWNvbjogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNDc3LjE3NSA0NzcuMTc1XCI+PHBhdGggZD1cIk0xNDUuMTg4IDIzOC41NzVsMjE1LjUtMjE1LjVjNS4zLTUuMyA1LjMtMTMuOCAwLTE5LjFzLTEzLjgtNS4zLTE5LjEgMGwtMjI1LjEgMjI1LjFjLTUuMyA1LjMtNS4zIDEzLjggMCAxOS4xbDIyNS4xIDIyNWMyLjYgMi42IDYuMSA0IDkuNSA0czYuOS0xLjMgOS41LTRjNS4zLTUuMyA1LjMtMTMuOCAwLTE5LjFsLTIxNS40LTIxNS41elwiLz48L3N2Zz4nLFxyXG4gICAgbmV4dEljb246ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDQ3Ny4xNzUgNDc3LjE3NVwiPjxwYXRoIGQ9XCJNMzYwLjczMSAyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xIDBzLTUuMyAxMy44IDAgMTkuMWwyMTUuNSAyMTUuNS0yMTUuNSAyMTUuNWMtNS4zIDUuMy01LjMgMTMuOCAwIDE5LjEgMi42IDIuNiA2LjEgNCA5LjUgNCAzLjQgMCA2LjktMS4zIDkuNS00bDIyNS4xLTIyNS4xYzUuMy01LjIgNS4zLTEzLjguMS0xOXpcIi8+PC9zdmc+J1xyXG59O1xyXG5cclxuY29uc3Qgc2xpZGVyRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwnKTtcclxuXHJcbkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoc2xpZGVyRWxlbWVudHMsIHNsaWRlckVsZW1lbnQgPT4ge1xyXG4gICAgY29uc3QgcG9zdHMgPSBuZXcgQ2Fyb3VzZWwoe1xyXG4gICAgICAgIHBhcmVudDogc2xpZGVyRWxlbWVudCxcclxuICAgICAgICBkdXJhdGlvbjogNTAwMFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHBvc3RzLnBhcmVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYXV0b3BsYXknKSkge1xyXG4gICAgICAgIHBvc3RzLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBvc3RzLnBhdXNlKCk7XHJcbiAgICAgICAgfSkub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwb3N0cy5wbGF5KCk7XHJcbiAgICAgICAgfSkucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwb3N0cy5wYXJlbnQuaGFzQXR0cmlidXRlKCdkYXRhLWNvbnRyb2xzJykpIHtcclxuICAgICAgICBjb25zdCBjb250cm9scyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzTmFtZSc6ICdzbGlkZXItY29udHJvbHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udHJvbHMuc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnanVzdGlmeSByb3cnKTtcclxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24oe1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdzbGlkZXItY29udHJvbCBwcmV2IGljb24nLFxyXG4gICAgICAgICAgICB0aXRsZTogJ1ZPTFRBUicsXHJcbiAgICAgICAgICAgIGlubmVySFRNTDogdWkucHJldkljb25cclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBvc3RzLnByZXYoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQoY3JlYXRlQnV0dG9uKHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2xpZGVyLWNvbnRyb2wgbmV4dCBpY29uJyxcclxuICAgICAgICAgICAgdGl0bGU6ICdBVkFOw4dBUicsXHJcbiAgICAgICAgICAgIGlubmVySFRNTDogdWkubmV4dEljb25cclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBvc3RzLm5leHQoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcG9zdHMucGFyZW50LmFwcGVuZENoaWxkKGNvbnRyb2xzKTtcclxuICAgIH1cclxufSk7XG5cbn0oKSk7XG4iXX0=
